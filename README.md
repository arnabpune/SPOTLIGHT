# About
This folder contains the distributable of executable files for the SPOTLIGHT program. A template input file is given here `input_template.dnvin`

# Requirements
To run SPOTLIGHT, you require the following packages/libraries available
- GLIBC 2.32+ in libc.so.6 (find it by `locate libc.so` and search GLIBC versions with `strings /path/to/so/file|grep GLIBC`)
- OpenMPI 3.1+
- ZeroMQ libraries for C++ (and preferably python)
- libtorch for C++ (specific version, packaged with SPOTLIGHT - **Latest version will NOT work due to deprecated implementations having changes**)
  Add `libtorch/libs` to the LIBRARY\_PATH and LD\_LIBRARY\_PATH variables before running


## Running the programs
Each of the 3 executables here can be directly run from any LINUX/UNIX terminal. Please ensure that libzmq is installed and up-to-date, or that the library (given in the distributable zip file) is in the LIBRARY\_PATH<br/>
The input format varies for each executable. Sample commands to run these programs are given below:

- ./production\_noprotein\_RL *target\_size* *variance* *num\_mols* #The variance for the range of sizes. The target size is picked uniformly randomly from the range target\_size +/- variance
- ./production\_noRL input.dnvin
- ./production\_RL input.dnvin

The programs that require RL require the files `convsave.pt` and `decsave.pt` to be present in one folder behind the current directory (where the file is executed). 
These files are present in `spotlight_data/model`

## Preparing the protein
It is necessary to use a convention similar to the CHARMM27 forcefield protein atom naming in GROMACS.<br/>
If you have GROMACS 2018 or later installed, use the following command:
    `gmx pdb2gmx -f input_file -o output_file.gro -ff charmm27`
It is necessary to manually remove any capping and the protonated amine (NH3+ atoms) from the N-terminal and acid (COO- atoms) from the C terminal for protein targets. Usually this should be fine as active sites are located far enough from terminal residues.<br/>
If this is not the case, consider manually adding parameters into the respective RTP files in `spotlight_data` manually, or change the terminal atom types to treat them like normal amino-acid atom types without charges (also to be done manually).
**Note:** `protein.gro` referred to anywhere (even in the input DNVin template) will refer to the GRO file for the target protein generated by this protocol.
